replicaCount: 1

ports:
  - name: grpc
    containerPort: 36656
    servicePort: 26656
  - name: p2p
    containerPort: 36657
    servicePort: 26657
  - name: rest
    containerPort: 1317
    servicePort: 1317
  - name: prometheus
    containerPort: 9090
    servicePort: 9090

normal_deploy:
  enabled: true

canary:
  enabled: false

version: api-v1
istio_url: kms-validator-staging.cypherscan.ai
image:
  repository: antongulak/kms-blockchain-asc-dev
  pullPolicy: Always
  tag: v0.7.1.7
  command: ["/app/bootstrap.sh"] # ENTRYPOINT
  args: [] # CMD
  livenessProbe:
    execCommand: ["sh", "-c", "wget -Sq --spider http://localhost:26657/status"]
    initialDelaySeconds: 10
    periodSeconds: 1
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 5
  readinessProbe:
    execCommand: ["sh", "-c", "wget -Sq --spider http://localhost:26657/status"]
    initialDelaySeconds: 10
    periodSeconds: 1
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 5

strategy:
  rollingUpdate:
    maxSurge: 1
    maxUnavailable: 0

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

serviceAccount:
  create: false
  annotations: {}
  name: ""

podAnnotations:
  product: api

podSecurityContext: {}

securityContext: {}

service:
  type: ClusterIP

resources:
  requests:
    cpu: 250m
    memory: 512Mi

autoscaling:
  enabled: true
  minReplicas: 1
  maxReplicas: 1
  targetCPUUtilizationPercentage: 80
  targetMemoryUtilizationPercentage: 80

nodeSelector: {}

tolerations: []

affinity: {}
